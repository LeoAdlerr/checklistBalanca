<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App de Inspe√ß√£o Digital - API (checklist-nestjs)</title>
    <style>
        :root {
            --primary-color: #34495e;
            --secondary-color: #41b883;
            --background-color: #f8f9fa;
            --text-color: #333;
            --heading-color: #2c3e50;
            --border-color: #dee2e6;
            --code-bg-color: #e9ecef;
            --white-color: #fff;
            --table-header-bg: #f2f2f2;
            --details-bg: #f1f1f1;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: var(--white-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            border-radius: 8px;
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--heading-color);
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        h1 { font-size: 2.5rem; border-bottom: 2px solid var(--border-color); padding-bottom: 0.5rem; }
        h2 { font-size: 2rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; }
        h3 { font-size: 1.75rem; }
        h4 { font-size: 1.5rem; }

        p {
            margin-bottom: 1rem;
        }

        a {
            color: var(--secondary-color);
            text-decoration: none;
            transition: color 0.3s;
        }

        a:hover {
            color: #318d65;
        }

        pre {
            background-color: var(--code-bg-color);
            padding: 1rem;
            border-radius: 5px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        code {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            background-color: var(--code-bg-color);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-size: 0.9em;
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
            font-size: 1em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        th, td {
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            text-align: left;
            vertical-align: top;
        }

        thead, th {
            background-color: var(--table-header-bg);
            font-weight: 600;
        }

        tbody tr:nth-of-type(even) {
            background-color: var(--background-color);
        }

        ul, ol {
            padding-left: 20px;
        }

        li {
            margin-bottom: 0.5rem;
        }

        hr {
            border: 0;
            height: 1px;
            background: var(--border-color);
            margin: 2rem 0;
        }

        img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        details {
            background-color: #f9f9f9;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        summary {
            font-weight: bold;
            cursor: pointer;
            color: var(--primary-color);
        }
        
        blockquote {
            border-left: 4px solid var(--secondary-color);
            padding-left: 1rem;
            margin-left: 0;
            font-style: italic;
            color: #555;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1 id="app-de-inspe-o-digital---api-checklist-nestjs-">App de Inspe√ß√£o Digital - API (checklist-nestjs)</h1>
        <div style="text-align: center;">
            <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo"></a>
        </div>
        <p style="text-align: center;">
            Backend desenvolvido com <a href="http://nodejs.org" target="_blank">Node.js</a> e NestJS para o sistema de inspe√ß√£o de unidades de carga.
        </p>

        <h2 id="sum-rio">Sum√°rio</h2>
        <nav>
            <ul>
                <li><a href="#app-de-inspe-o-digital---api-checklist-nestjs-">App de Inspe√ß√£o Digital - API (checklist-nestjs)</a>
                    <ul>
                        <li><a href="#sum-rio">Sum√°rio</a></li>
                        <li><a href="#-vis-o-geral-do-projeto">üìù Vis√£o Geral do Projeto</a></li>
                        <li><a href="#Ô∏è-arquitetura-do-sistema">üèõÔ∏è Arquitetura do Sistema</a></li>
                        <li><a href="#modelo-de-dados-mer">Modelo de Dados (MER)</a></li>
                        <li><a href="#-pr--requisitos">‚úÖ Pr√©-requisitos</a></li>
                        <li><a href="#-instala-o-e-configura-o">üöÄ Instala√ß√£o e Configura√ß√£o</a></li>
                        <li><a href="#Ô∏è-executando-a-aplica-o">‚ñ∂Ô∏è Executando a Aplica√ß√£o</a></li>
                        <li><a href="#-executando-os-testes">üß™ Executando os Testes</a></li>
                        <li><a href="#-endpoints-da-api">üì° Endpoints da API</a></li>
                        <li><a href="#Ô∏è-jornadas-do-usu-rio-user-flows-">üó∫Ô∏è Jornadas do Usu√°rio (User Flows)</a></li>
                        <li><a href="#-nosso-acordo-de-trabalho-fluxo-de-desenvolvimento-e-contribui-o">üîÑ Nosso Acordo de Trabalho</a></li>
                        <li><a href="#-definition-of-ready-dor-definition-of-done-dod-">‚úÖ Definition of Ready (DoR) & Definition of Done (DoD)</a></li>
                        <li><a href="#-licen-a">üìÑ Licen√ßa</a></li>
                    </ul>
                </li>
            </ul>
        </nav>

        <h2 id="-vis-o-geral-do-projeto">üìù Vis√£o Geral do Projeto</h2>
        <p>Este projeto √© a implementa√ß√£o do backend para o <strong>App de Inspe√ß√£o Digital 8/18</strong>. O objetivo √© substituir o processo de inspe√ß√£o manual, baseado no formul√°rio f√≠sico <strong>"Form. 24 - Inspe√ß√£o de Unidade de Carga"</strong>, por uma solu√ß√£o digital inteligente e rastre√°vel.</p>
        <p>O sistema permite que inspetores realizem inspe√ß√µes ponto a ponto, coletem evid√™ncias (texto e imagens), capturem assinaturas digitais, e gera um relat√≥rio PDF id√™ntico ao formul√°rio f√≠sico para fins de auditoria e conformidade.</p>

        <hr>

        <h2 id="Ô∏è-arquitetura-do-sistema">üèõÔ∏è Arquitetura do Sistema</h2>
        <p>A aplica√ß√£o segue uma arquitetura desacoplada, separando as responsabilidades entre o cliente (Frontend), o servidor (Backend) e a infraestrutura de dados e arquivos.</p>
        <div class="mermaid">
            graph TD
                subgraph "Cliente"
                    A[/"Vue.js Web App (Desktop/Mobile)"/]
                end

                subgraph "Servidor Backend (NestJS)"
                    B(API Gateway / Controllers)
                    C{Auth Service: JWT or Guard}
                    D[Inspection Service <br> Business Logic]
                    E[PDF Service: Puppeteer/pdfmake]
                    F[File Service: Multer]
                    G((TypeORM))
                end

                subgraph "Infraestrutura"
                    H[(MySQL Database)]
                    I[(File Storage <br> ex: AWS S3, Local Disk)]
                end

                A -- "Requisi√ß√µes HTTP/S (API RESTful)" --> B
                B -- "Valida Rota" --> C
                B -- "Chama Servi√ßo" --> D
                B -- "Upload" --> F
                D -- "Gera PDF" --> E
                D -- "Manipula Dados" --> G
                F -- "Salva Arquivo em" --> I
                E -- "Salva PDF em" --> I
                G -- "CRUD Operations" --> H

                style A fill:#42b883,stroke:#333,stroke-width:2px
                style B fill:#e3224d,stroke:#333,stroke-width:2px
                style H fill:#00758f,stroke:#333,stroke-width:2px
                style I fill:#f0ad4e,stroke:#333,stroke-width:2px
        </div>

        <h2 id="modelo-de-dados-mer">Modelo de Dados (MER)</h2>
        <p>O modelo de entidade-relacionamento a seguir ilustra a estrutura do banco de dados MySQL, utilizando tabelas de lookup para garantir a integridade e flexibilidade dos dados.</p>
        <div class="mermaid">
            erDiagram
                USERS {
                    INT id PK
                    VARCHAR name
                    VARCHAR email
                    BOOLEAN is_active
                }

                INSPECTIONS {
                    INT id PK
                    INT inspector_id FK
                    INT status_id FK
                    INT modality_id FK
                    INT operation_type_id FK
                    INT unit_type_id FK
                    INT container_type_id FK
                    VARCHAR vehicle_plates
                    DATETIME start_datetime
                    DATETIME end_datetime
                    VARCHAR driver_name
                    VARCHAR driver_signature_path
                    VARCHAR inspector_signature_path
                    INT seal_verification_rfb_status_id FK
                    INT seal_verification_shipper_status_id FK
                    INT seal_verification_tape_status_id FK
                    VARCHAR generated_pdf_path
                }

                INSPECTION_CHECKLIST_ITEMS {
                    INT id PK
                    INT inspection_id FK
                    INT master_point_id FK
                    INT status_id FK
                    TEXT observations
                }

                ITEM_EVIDENCES {
                    INT id PK
                    INT item_id FK
                    VARCHAR file_path
                }

                MASTER_INSPECTION_POINTS {
                    INT id PK
                    INT point_number
                    VARCHAR name
                    VARCHAR category
                }

                LOOKUP_STATUSES {
                    INT id PK
                    VARCHAR name
                }

                LOOKUP_MODALITIES {
                    INT id PK
                    VARCHAR name
                }

                LOOKUP_OPERATION_TYPES {
                    INT id PK
                    VARCHAR name
                }

                LOOKUP_UNIT_TYPES {
                    INT id PK
                    VARCHAR name
                }

                LOOKUP_CONTAINER_TYPES {
                    INT id PK
                    VARCHAR name
                }

                LOOKUP_CHECKLIST_ITEM_STATUSES {
                    INT id PK
                    VARCHAR name
                }

                LOOKUP_SEAL_VERIFICATION_STATUSES {
                    INT id PK
                    VARCHAR name
                }

                %% Relacionamentos principais
                USERS ||--o{ INSPECTIONS : ""
                INSPECTIONS ||--o{ INSPECTION_CHECKLIST_ITEMS : ""
                INSPECTION_CHECKLIST_ITEMS ||--o{ ITEM_EVIDENCES : ""
                MASTER_INSPECTION_POINTS ||--o{ INSPECTION_CHECKLIST_ITEMS : ""

                %% Relacionamentos com lookups
                LOOKUP_STATUSES ||--o{ INSPECTIONS : ""
                LOOKUP_MODALITIES ||--o{ INSPECTIONS : ""
                LOOKUP_OPERATION_TYPES ||--o{ INSPECTIONS : ""
                LOOKUP_UNIT_TYPES ||--o{ INSPECTIONS : ""
                LOOKUP_CONTAINER_TYPES ||--o{ INSPECTIONS : ""
                LOOKUP_CHECKLIST_ITEM_STATUSES ||--o{ INSPECTION_CHECKLIST_ITEMS : ""
                LOOKUP_SEAL_VERIFICATION_STATUSES ||--o{ INSPECTIONS : ""
        </div>
        
        <details>
            <summary>Clique para expandir o Dicion√°rio de Dados Completo</summary>
            
            <h3>Tabelas de Lookup (Mestras)</h3>
            <p>Estas tabelas cont√™m valores est√°ticos para garantir a consist√™ncia dos dados.</p>
            <table>
                <thead>
                    <tr>
                        <th>Tabela</th>
                        <th>Descri√ß√£o</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><code>lookup_statuses</code></td><td>Status poss√≠veis para uma inspe√ß√£o geral.</td></tr>
                    <tr><td><code>lookup_modalities</code></td><td>Modalidades de transporte dispon√≠veis.</td></tr>
                    <tr><td><code>lookup_operation_types</code></td><td>Tipos de opera√ß√£o aduaneira (n√≠vel de risco).</td></tr>
                    <tr><td><code>lookup_unit_types</code></td><td>Tipos de unidade de carga.</td></tr>
                    <tr><td><code>lookup_container_types</code></td><td>Tipos espec√≠ficos de cont√™ineres.</td></tr>
                    <tr><td><code>lookup_checklist_item_statuses</code></td><td>Status poss√≠veis para cada item individual da inspe√ß√£o.</td></tr>
                    <tr><td><code>lookup_seal_verification_statuses</code></td><td>Status para a verifica√ß√£o de lacres na sa√≠da.</td></tr>
                </tbody>
            </table>
            
            <hr>

            <h3>Tabelas Principais</h3>
            
            <h4><strong><code>users</code></strong></h4>
            <p>Armazena os dados dos usu√°rios autorizados a realizar inspe√ß√µes.</p>
            <table>
              <thead>
                <tr>
                  <th>Nome da Coluna</th><th>Tipo de Dado</th><th>Chave</th><th>Nulo?</th><th>Descri√ß√£o / Regra de Neg√≥cio</th><th>Exemplo</th>
                </tr>
              </thead>
              <tbody>
                <tr><td><code>id</code></td><td>INT</td><td>PK</td><td>N√£o</td><td>Identificador √∫nico do usu√°rio (auto-incremento).</td><td><code>101</code></td></tr>
                <tr><td><code>name</code></td><td>VARCHAR(255)</td><td></td><td>N√£o</td><td>Nome completo do inspetor ou administrador.</td><td><code>"Carlos Andrade"</code></td></tr>
                <tr><td><code>email</code></td><td>VARCHAR(255)</td><td>UNIQUE</td><td>N√£o</td><td>E-mail usado para login. Deve ser √∫nico.</td><td><code>"carlos.a@unive.com"</code></td></tr>
                <tr><td><code>password</code></td><td>VARCHAR(255)</td><td></td><td>N√£o</td><td>Senha do usu√°rio, armazenada com hash seguro.</td><td><code>"$2b$10$..."</code></td></tr>
                <tr><td><code>is_active</code></td><td>BOOLEAN</td><td></td><td>N√£o</td><td>Controla se o usu√°rio pode acessar o sistema.</td><td><code>true</code></td></tr>
              </tbody>
            </table>

            <h4><strong><code>master_inspection_points</code></strong></h4>
            <p>Tabela mestre com a defini√ß√£o dos 18 pontos de inspe√ß√£o padr√£o.</p>
            <table>
              <thead>
                <tr><th>Nome da Coluna</th><th>Tipo de Dado</th><th>Chave</th><th>Nulo?</th><th>Descri√ß√£o / Regra de Neg√≥cio</th><th>Exemplo</th></tr>
              </thead>
              <tbody>
                <tr><td><code>id</code></td><td>INT</td><td>PK</td><td>N√£o</td><td>Identificador √∫nico do ponto de inspe√ß√£o.</td><td><code>11</code></td></tr>
                <tr><td><code>point_number</code></td><td>INT</td><td>UNIQUE</td><td>N√£o</td><td>N√∫mero de ordem do ponto de inspe√ß√£o (1 a 18).</td><td><code>11</code></td></tr>
                <tr><td><code>name</code></td><td>VARCHAR(255)</td><td></td><td>N√£o</td><td>Nome do ponto de inspe√ß√£o.</td><td><code>"PNEUS"</code></td></tr>
                <tr><td><code>description</code></td><td>TEXT</td><td></td><td>Sim</td><td>Descri√ß√£o detalhada do procedimento de verifica√ß√£o.</td><td><code>"Martelar levemente em todo pneu."</code></td></tr>
                <tr><td><code>category</code></td><td>VARCHAR</td><td></td><td>N√£o</td><td>Categoria do ponto: 'VEICULO' ou 'CONTEINER'.</td><td><code>"VEICULO"</code></td></tr>
              </tbody>
            </table>

            <h4><strong><code>inspections</code></strong></h4>
            <p>Tabela central que armazena cada registro de inspe√ß√£o (checklist).</p>
            <table>
              <thead>
                <tr><th>Nome da Coluna</th><th>Tipo de Dado</th><th>Chave</th><th>Nulo?</th><th>Descri√ß√£o / Regra de Neg√≥cio</th><th>Exemplo</th></tr>
              </thead>
              <tbody>
                <tr><td><code>id</code></td><td>INT</td><td>PK</td><td>N√£o</td><td>Identificador √∫nico da inspe√ß√£o (auto-incremento).</td><td><code>2024001</code></td></tr>
                <tr><td><code>inspector_id</code></td><td>INT</td><td>FK</td><td>N√£o</td><td>ID do usu√°rio (<code>users</code>) que realizou a inspe√ß√£o.</td><td><code>101</code></td></tr>
                <tr><td><code>status_id</code></td><td>INT</td><td>FK</td><td>N√£o</td><td>ID do status geral da inspe√ß√£o (<code>lookup_statuses</code>).</td><td><code>2</code> (<code>APROVADO</code>)</td></tr>
                <tr><td><code>modality_id</code></td><td>INT</td><td>FK</td><td>N√£o</td><td>ID da modalidade (<code>lookup_modalities</code>).</td><td><code>1</code> (<code>RODOVIARIO</code>)</td></tr>
                <tr><td><code>operation_type_id</code></td><td>INT</td><td>FK</td><td>N√£o</td><td>ID do tipo de opera√ß√£o (<code>lookup_operation_types</code>).</td><td><code>1</code> (<code>VERDE</code>)</td></tr>
                <tr><td><code>unit_type_id</code></td><td>INT</td><td>FK</td><td>N√£o</td><td>ID do tipo de unidade (<code>lookup_unit_types</code>).</td><td><code>1</code> (<code>CONTAINER</code>)</td></tr>
                <tr><td><code>container_type_id</code></td><td>INT</td><td>FK</td><td>Sim</td><td>ID do tipo de cont√™iner (<code>lookup_container_types</code>).</td><td><code>2</code> (<code>DRY_40</code>)</td></tr>
                <tr><td><code>vehicle_plates</code></td><td>VARCHAR(20)</td><td></td><td>Sim</td><td>Placas do ve√≠culo.</td><td><code>"BRA2E19"</code></td></tr>
                <tr><td><code>start_datetime</code></td><td>DATETIME</td><td></td><td>N√£o</td><td>Data e hora de in√≠cio da inspe√ß√£o.</td><td><code>"2025-06-27 14:30:00"</code></td></tr>
                <tr><td><code>end_datetime</code></td><td>DATETIME</td><td></td><td>Sim</td><td>Data e hora de t√©rmino da inspe√ß√£o.</td><td><code>"2025-06-27 15:15:00"</code></td></tr>
                <tr><td><code>driver_name</code></td><td>VARCHAR(255)</td><td></td><td>N√£o</td><td>Nome do motorista do ve√≠culo.</td><td><code>"Jos√© de Almeida"</code></td></tr>
                <tr><td><code>driver_signature_path</code></td><td>VARCHAR(512)</td><td></td><td>Sim</td><td>Caminho para o arquivo de imagem da assinatura do motorista.</td><td><code>"/sig/insp_2024001_driver.png"</code></td></tr>
                <tr><td><code>inspector_signature_path</code></td><td>VARCHAR(512)</td><td></td><td>Sim</td><td>Caminho para o arquivo da assinatura do inspetor.</td><td><code>"/sig/insp_2024001_inspector.png"</code></td></tr>
                <tr><td><code>generated_pdf_path</code></td><td>VARCHAR(512)</td><td></td><td>Sim</td><td>Caminho para o arquivo PDF gerado.</td><td><code>"/reports/insp_2024001.pdf"</code></td></tr>
              </tbody>
            </table>
            
            <h4><strong><code>inspection_checklist_items</code></strong></h4>
            <p>Armazena o status de cada um dos 18 pontos para uma inspe√ß√£o espec√≠fica.</p>
            <table>
              <thead>
                <tr><th>Nome da Coluna</th><th>Tipo de Dado</th><th>Chave</th><th>Nulo?</th><th>Descri√ß√£o / Regra de Neg√≥cio</th><th>Exemplo</th></tr>
              </thead>
              <tbody>
                <tr><td><code>id</code></td><td>INT</td><td>PK</td><td>N√£o</td><td>Identificador √∫nico do item de checklist.</td><td><code>5432</code></td></tr>
                <tr><td><code>inspection_id</code></td><td>INT</td><td>FK</td><td>N√£o</td><td>ID da inspe√ß√£o (<code>inspections</code>) a que este item pertence.</td><td><code>2024001</code></td></tr>
                <tr><td><code>master_point_id</code></td><td>INT</td><td>FK</td><td>N√£o</td><td>ID do ponto de inspe√ß√£o (<code>master_inspection_points</code>).</td><td><code>11</code> (<code>PNEUS</code>)</td></tr>
                <tr><td><code>status_id</code></td><td>INT</td><td>FK</td><td>N√£o</td><td>ID do status deste item (<code>lookup_checklist_item_statuses</code>).</td><td><code>2</code> (<code>CONFORME</code>)</td></tr>
                <tr><td><code>observations</code></td><td>TEXT</td><td></td><td>Sim</td><td>Observa√ß√µes do inspetor para este ponto.</td><td><code>"Pneu dianteiro com leve desgaste."</code></td></tr>
              </tbody>
            </table>

            <h4><strong><code>item_evidences</code></strong></h4>
            <p>Armazena as evid√™ncias (imagens) para cada item de checklist.</p>
            <table>
              <thead>
                <tr><th>Nome da Coluna</th><th>Tipo de Dado</th><th>Chave</th><th>Nulo?</th><th>Descri√ß√£o / Regra de Neg√≥cio</th><th>Exemplo</th></tr>
              </thead>
              <tbody>
                <tr><td><code>id</code></td><td>INT</td><td>PK</td><td>N√£o</td><td>Identificador √∫nico da evid√™ncia.</td><td><code>9876</code></td></tr>
                <tr><td><code>item_id</code></td><td>INT</td><td>FK</td><td>N√£o</td><td>ID do item de checklist (<code>inspection_checklist_items</code>).</td><td><code>5432</code></td></tr>
                <tr><td><code>file_path</code></td><td>VARCHAR(512)</td><td></td><td>N√£o</td><td>Caminho para o arquivo de imagem no storage.</td><td><code>"/evidences/insp_2024001_p11_01.jpg"</code></td></tr>
              </tbody>
            </table>
        </details>
        
        <h3>üèóÔ∏è Estrutura de Projeto Unificada</h3>
        <p>O projeto √© organizado em uma estrutura multi-repo, onde cada servi√ßo principal (backend, frontend, banco de dados) reside em seu pr√≥prio subdiret√≥rio dentro da pasta raiz <code>checklistBalanca/</code>. Esta abordagem promove a separa√ß√£o clara das responsabilidades.</p>
        <p>A filosofia de desenvolvimento para cada servi√ßo segue os princ√≠pios de Arquitetura Limpa e Domain-Driven Design (DDD), garantindo um c√≥digo manuten√≠vel e escal√°vel.</p>

        <h4>Diagrama de Arquitetura de Reposit√≥rios</h4>
        <p>Este diagrama representa a estrutura completa do nosso ecossistema de projetos.</p>
        <div class="mermaid">
            graph TD
            subgraph "Reposit√≥rio Raiz: checklistBalanca"
                A("nest-checklist-balanca")
                B("vue-checklist-balanca")
                C("bdChecklistBalanca")
                D("img")
            end

            subgraph Backend_NestJS["Backend (NestJS)"]
                subgraph Src_Backend["src"]
                    A1("api (Controllers, DTOs)")
                    A2("domain (Entidades, Repos, Use Cases)")
                    A3("infra (TypeORM, Config)")
                end
            end

            subgraph Frontend_Vue["Frontend (Vue.js)"]
                subgraph Src_Frontend["src"]
                    B1("views (Telas)")
                    B2("components (Componentes Reutiliz√°veis)")
                    B3("stores (Pinia - Estado)")
                    B4("services (Chamadas API)")
                end
            end

            subgraph "Banco de Dados"
                C1("init.sql")
                C2("docker-compose.yml")
            end

            subgraph "Recursos Visuais"
                D1("Mockups e Imagens")
            end

            A --> A1 & A2 & A3
            B --> B1 & B2 & B3 & B4
            C --> C1
            C --> C2
            D --> D1

            %% Styling
            style A fill:#e3224d,stroke:#fff,stroke-width:2px,color:#fff
            style B fill:#42b883,stroke:#fff,stroke-width:2px,color:#fff
            style C fill:#00758f,stroke:#fff,stroke-width:2px,color:#fff
            style D fill:#f39c12,stroke:#fff,stroke-width:2px,color:#fff
        </div>
        
        <h4>Detalhes da Estrutura Interna</h4>
        <ul>
          <li><strong>Backend (nest-checklist-balanca)</strong>
            <ul>
              <li><code>src/api</code>: A camada de apresenta√ß√£o, respons√°vel por receber requisi√ß√µes HTTP e retornar respostas. Cont√©m os controllers e os DTOs (Data Transfer Objects).</li>
              <li><code>src/domain</code>: O cora√ß√£o da aplica√ß√£o. Cont√©m a l√≥gica de neg√≥cio pura (use-cases), as representa√ß√µes dos dados (entities) e os contratos de persist√™ncia (repositories).</li>
              <li><code>src/infra</code>: A camada de detalhes t√©cnicos, com as implementa√ß√µes concretas, como a configura√ß√£o do TypeORM e os reposit√≥rios que interagem com o banco.</li>
            </ul>
          </li>
          <li><strong>Frontend (vue-checklist-balanca)</strong>
            <ul>
              <li><code>src/views (ou pages)</code>: As telas principais da aplica√ß√£o, que orquestram os componentes.</li>
              <li><code>src/components</code>: Componentes de UI reutiliz√°veis e "burros" (sem l√≥gica de neg√≥cio).</li>
              <li><code>src/stores (Pinia)</code>: Gerencia o estado global da aplica√ß√£o e a l√≥gica de neg√≥cio do frontend.</li>
              <li><code>src/services</code>: Isola toda a comunica√ß√£o com a nossa API NestJS.</li>
            </ul>
          </li>
          <li><strong>tests/</strong>: Pasta na raiz do projeto para testes unit√°rios e e2e.</li>
        </ul>
        
        <hr>

        <h2 id="-pr--requisitos">‚úÖ Pr√©-requisitos</h2>
        <p>Para rodar este projeto, voc√™ precisar√° ter as seguintes ferramentas instaladas em seu ambiente:</p>
        <ul>
            <li><strong><a href="https://nodejs.org/">Node.js</a></strong> (vers√£o 18.x ou superior)</li>
            <li><strong><a href="https://yarnpkg.com/">Yarn</a></strong> (gerenciador de pacotes principal)</li>
            <li><strong><a href="https://www.docker.com/">Docker</a></strong> (recomendado para rodar o banco de dados)</li>
        </ul>

        <h2 id="-instala-o-e-configura-o">üöÄ Instala√ß√£o e Configura√ß√£o</h2>
        <p>Siga os passos abaixo para configurar e rodar o ambiente de desenvolvimento localmente.</p>
        
        <h3>1. Clone o Reposit√≥rio</h3>
        <p>Primeiro, clone o projeto para a sua m√°quina local.</p>
        <pre><code class="lang-bash">git clone &lt;URL_DO_SEU_REPOSITORIO&gt;
cd checklist-nestjs
</code></pre>

        <h3>üì¶ 2. Instale as Depend√™ncias</h3>
        <p>O projeto utiliza <code>Yarn</code> como gerenciador de pacotes. Execute o comando abaixo para instalar todas as depend√™ncias necess√°rias.</p>
        <pre><code class="lang-bash">yarn install
</code></pre>

        <h3>üìù 3. Configure as Vari√°veis de Ambiente</h3>
        <p>√â necess√°rio criar um arquivo <code>.env</code> para armazenar as configura√ß√µes sens√≠veis do projeto.</p>
        <ul>
            <li>Primeiro, copie o arquivo de exemplo <code>.env.example</code> para criar seu arquivo de configura√ß√£o local:
                <pre><code class="lang-bash">cp .env.example .env
</code></pre>
            </li>
            <li>Em seguida, edite o arquivo <code>.env</code> com as suas credenciais de banco de dados e outras configura√ß√µes:
                <pre><code class="lang-env"># Application Port
PORT=3000

# Database Configuration
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=checklist_db

# JWT Secret for Authentication
JWT_SECRET=your_super_secret_key
</code></pre>
            </li>
        </ul>
        
        <h3>üê≥ 4. Inicie o Banco de Dados com Cont√™ineres</h3>
        <p>A forma mais simples e recomendada de rodar o banco de dados MySQL √© utilizando uma ferramenta de cont√™ineres como <strong>Docker</strong> ou <strong>Podman</strong>. Isso garante um ambiente limpo, isolado e consistente.</p>
        <ul>
            <li>Primeiro, crie um arquivo <code>docker-compose.yml</code> na raiz do projeto. O formato √© compat√≠vel com ambas as ferramentas.
                <pre><code class="lang-yaml"># docker-compose.yml
version: '3.8'
services:
  db:
    image: mysql:8.0
    command: --default-authentication-plugin=mysql_native_password
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: your_password
      MYSQL_DATABASE: checklist_db
    ports:
      - "3306:3306"
    volumes:
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
</code></pre>
            </li>
            <li>Agora, execute o comando correspondente √† sua ferramenta para iniciar o cont√™iner em segundo plano:
                <ul>
                    <li><strong>Se voc√™ usa Docker:</strong>
                        <pre><code class="lang-bash">docker-compose up -d
</code></pre>
                    </li>
                    <li><strong>Se voc√™ usa Podman</strong> (requer <code>podman-compose</code> instalado):
                        <pre><code class="lang-bash">podman-compose up -d
</code></pre>
                    </li>
                </ul>
            </li>
        </ul>
        <blockquote>
            <strong>Nota:</strong> O arquivo <code>init.sql</code> ser√° executado automaticamente na primeira vez que o cont√™iner for criado, preparando todo o esquema de tabelas e populando os dados iniciais (lookups).
        </blockquote>

        <h2 id="Ô∏è-executando-a-aplica-o">‚ñ∂Ô∏è Executando a Aplica√ß√£o</h2>
        <p>Com o ambiente configurado, voc√™ pode iniciar o servidor NestJS nos seguintes modos:</p>
        <ul>
            <li><strong>Modo de Desenvolvimento</strong> (com auto-reload):
                <pre><code class="lang-bash">yarn run start:dev
</code></pre>
            </li>
            <li><strong>Modo de Produ√ß√£o</strong>:
                <pre><code class="lang-bash">yarn run start:prod
</code></pre>
            </li>
        </ul>
        <blockquote>Ap√≥s iniciar, a API estar√° dispon√≠vel em <code>http://localhost:3000</code>.</blockquote>

        <hr>

        <h2 id="-executando-os-testes">üß™ Executando os Testes</h2>
        <p>Para garantir a qualidade e a integridade do c√≥digo, execute os comandos de teste abaixo:</p>
        <ul>
            <li><strong>Testes Unit√°rios</strong>:
                <pre><code class="lang-bash">yarn run test
</code></pre>
            </li>
            <li><strong>Testes End-to-End (E2E)</strong>:
                <pre><code class="lang-bash">yarn run test:e2e
</code></pre>
            </li>
            <li><strong>Relat√≥rio de Cobertura de Testes</strong>:
                <pre><code class="lang-bash">yarn run test:cov
</code></pre>
            </li>
        </ul>
        
        <h2 id="-endpoints-da-api">üì° Endpoints da API</h2>
        <p>A seguir, a lista dos principais endpoints da API. Uma documenta√ß√£o interativa completa estar√° dispon√≠vel via <strong>Swagger</strong> em <code>http://localhost:3000/api-docs</code> ap√≥s a aplica√ß√£o ser iniciada.</p>
        <table>
            <thead>
                <tr>
                    <th>M√©todo</th>
                    <th>Endpoint</th>
                    <th>Descri√ß√£o</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><code>POST</code></td><td><code>/api/auth/login</code></td><td>Autentica um usu√°rio e retorna um token JWT.</td></tr>
                <tr><td><code>GET</code></td><td><code>/api/lookups/:type</code></td><td>Retorna a lista de valores para um tipo de lookup (ex: <code>/modalities</code>).</td></tr>
                <tr><td><code>POST</code></td><td><code>/api/inspections</code></td><td>Cria um novo registro de inspe√ß√£o.</td></tr>
                <tr><td><code>GET</code></td><td><code>/api/inspections</code></td><td>Lista todas as inspe√ß√µes, com suporte a filtros via query params.</td></tr>
                <tr><td><code>GET</code></td><td><code>/api/inspections/:id</code></td><td>Retorna os detalhes completos de uma inspe√ß√£o espec√≠fica.</td></tr>
                <tr><td><code>PATCH</code></td><td><code>/api/inspections/:id/items/:itemId</code></td><td>Atualiza o status e as observa√ß√µes de um item do checklist.</td></tr>
                <tr><td><code>POST</code></td><td><code>/api/inspections/:id/items/:itemId/evidence</code></td><td>Faz o upload de uma imagem de evid√™ncia para um item.</td></tr>
                <tr><td><code>POST</code></td><td><code>/api/inspections/:id/finalize</code></td><td>Finaliza a inspe√ß√£o, coletando assinaturas e gerando o PDF.</td></tr>
            </tbody>
        </table>

        <hr>

        <h2 id="Ô∏è-jornadas-do-usu-rio-user-flows-">üó∫Ô∏è Jornadas do Usu√°rio (User Flows)</h2>
        <p>Esta se√ß√£o descreve os caminhos que os usu√°rios percorrem para realizar tarefas chave no sistema.</p>
        <details>
            <summary>Clique para expandir as Jornadas do Usu√°rio</summary>
            <h4><strong>Fluxo 1: Autentica√ß√£o do Inspetor</strong></h4>
            <ul>
                <li><strong>Ator:</strong> Inspetor</li>
                <li><strong>Objetivo:</strong> Acessar o sistema de inspe√ß√£o de forma segura.</li>
                <li><strong>Passos:</strong>
                    <ol>
                        <li>Abre a aplica√ß√£o e v√™ a tela de login.</li>
                        <li>Insere e-mail e senha.</li>
                        <li>Clica em "Entrar".</li>
                        <li>O sistema valida as credenciais. Se corretas, direciona para a tela inicial.</li>
                    </ol>
                </li>
            </ul>
            <h4><strong>Fluxo 2: Realiza√ß√£o de uma Nova Inspe√ß√£o</strong></h4>
            <ul>
                <li><strong>Ator:</strong> Inspetor</li>
                <li><strong>Objetivo:</strong> Preencher um checklist de inspe√ß√£o de 18 pontos.</li>
                <li><strong>Passos:</strong>
                    <ol>
                        <li>Seleciona uma inspe√ß√£o pendente na tela inicial.</li>
                        <li>Preenche os campos do cabe√ßalho (Modalidade, Opera√ß√£o, etc.).</li>
                        <li>Navega pela lista dos 18 pontos de inspe√ß√£o.</li>
                        <li>Para cada ponto, seleciona um status (<code>CONFORME</code>, <code>N√ÉO CONFORME</code>, <code>N/A</code>), adiciona observa√ß√µes e anexa imagens como evid√™ncia.</li>
                        <li>O progresso √© salvo continuamente.</li>
                    </ol>
                </li>
            </ul>
            <h4><strong>Fluxo 3: Finaliza√ß√£o da Inspe√ß√£o</strong></h4>
            <ul>
                <li><strong>Ator:</strong> Inspetor, Motorista</li>
                <li><strong>Objetivo:</strong> Concluir a inspe√ß√£o, coletar assinaturas e gerar o relat√≥rio.</li>
                <li><strong>Passos:</strong>
                    <ol>
                        <li>Ap√≥s avaliar todos os 18 pontos, clica em "Finalizar".</li>
                        <li>O sistema aplica a regra de avalia√ß√£o autom√°tica (se houver <code>N√ÉO CONFORME</code> ‚Üí <code>REPROVADO</code>, sen√£o <code>APROVADO</code>).</li>
                        <li>Inspetor e motorista assinam digitalmente na tela.</li>
                        <li>O sistema gera e armazena o relat√≥rio em PDF, id√™ntico ao formul√°rio f√≠sico.</li>
                    </ol>
                </li>
            </ul>
            <h4><strong>Fluxo 4: Consulta e An√°lise no Dashboard</strong></h4>
            <ul>
                <li><strong>Ator:</strong> Administrador, Inspetor</li>
                <li><strong>Objetivo:</strong> Visualizar, filtrar e exportar dados de inspe√ß√µes.</li>
                <li><strong>Passos:</strong>
                    <ol>
                        <li>Acessa o Dashboard.</li>
                        <li>Visualiza a lista de inspe√ß√µes.</li>
                        <li>Usa os filtros de busca (por data, status, motorista, etc.) para encontrar inspe√ß√µes espec√≠ficas.</li>
                        <li>Clica em uma inspe√ß√£o para ver os detalhes e baixar o PDF gerado.</li>
                    </ol>
                </li>
            </ul>
        </details>
        
        <h2>Planejamento √Ågil para MVP</h2>
        <p>O objetivo do MVP √© entregar o fluxo principal de valor: <strong>digitalizar o preenchimento do checklist e gerar um PDF fiel ao formul√°rio original</strong>. Funcionalidades de gest√£o e automa√ß√£o avan√ßada ser√£o adicionadas em itera√ß√µes futuras.</p>
        <table border="1" cellpadding="10" cellspacing="0" width="100%">
            <thead>
                <tr bgcolor="#f2f2f2">
                    <th><b>√âpico</b></th>
                    <th><b>ID</b></th>
                    <th><b>Hist√≥ria de Usu√°rio (User Story)</b></th>
                    <th><b>Crit√©rios de Aceite</b></th>
                    <th><b>Prioridade MVP</b></th>
                    <th><b>Observa√ß√µes / Simplifica√ß√£o para MVP</b></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td valign="top">Gest√£o de Inspe√ß√µes (Core)</td>
                    <td valign="top"><strong>US-01</strong></td>
                    <td valign="top"><strong>Como um</strong> inspetor, <strong>eu quero</strong> iniciar um novo checklist, <strong>para que</strong> eu possa preencher os dados iniciais da inspe√ß√£o.</td>
                    <td valign="top">
                        <ul>
                            <li>O sistema deve abrir um novo formul√°rio de checklist.</li>
                            <li>O campo "Nome do Inspetor" deve estar dispon√≠vel para preenchimento (texto livre).</li>
                            <li>A data/hora de in√≠cio √© registrada.</li>
                            <li>Os campos do cabe√ßalho (Modalidade, etc.) devem ser de preenchimento obrigat√≥rio.</li>
                        </ul>
                    </td>
                    <td valign="top" bgcolor="#ffebee">üî¥ <b>Essencial</b></td>
                    <td valign="top">O nome do inspetor ser√° um campo de texto simples, sem v√≠nculo com um usu√°rio logado.</td>
                </tr>
                <tr>
                    <td valign="top">Gest√£o de Inspe√ß√µes (Core)</td>
                    <td valign="top"><strong>US-02</strong></td>
                    <td valign="top"><strong>Como um</strong> inspetor, <strong>eu quero</strong> avaliar cada um dos 18 pontos do checklist, adicionando status e observa√ß√µes, <strong>para que</strong> eu possa registrar o resultado da verifica√ß√£o.</td>
                    <td valign="top">
                        <ul>
                            <li>Para cada item, deve ser poss√≠vel selecionar CONFORME, N√ÉO CONFORME ou N/A.</li>
                            <li>Deve ser poss√≠vel adicionar um texto de observa√ß√£o.</li>
                            <li>Deve ser poss√≠vel anexar uma ou mais fotos como evid√™ncia para qualquer item.</li>
                        </ul>
                    </td>
                    <td valign="top" bgcolor="#ffebee">üî¥ <b>Essencial</b></td>
                    <td valign="top">A funcionalidade de upload de imagens √© o "ponto de corte" t√©cnico. Se for complexa, podemos avaliar deix√°-la para a v1.1, mas o ideal √© que entre no MVP.</td>
                </tr>
                <tr>
                    <td valign="top">Gest√£o de Inspe√ß√µes (Core)</td>
                    <td valign="top"><strong>US-03</strong></td>
                    <td valign="top"><strong>Como um</strong> inspetor, <strong>eu quero</strong> finalizar o checklist, <strong>para que</strong> o sistema determine o resultado final.</td>
                    <td valign="top">
                        <ul>
                            <li>O bot√£o "Finalizar" deve estar habilitado ap√≥s a avalia√ß√£o dos 18 pontos.</li>
                            <li>Ao finalizar, o status geral da inspe√ß√£o deve ser definido como APROVADO ou REPROVADO baseado nas regras.</li>
                        </ul>
                    </td>
                    <td valign="top" bgcolor="#fffde7">üü° <b>Importante</b></td>
                    <td valign="top">A assinatura digital √© adiada. A l√≥gica de APROVADO/REPROVADO √© essencial, mas a coleta de assinatura ser√° feita manually no PDF gerado.</td>
                </tr>
                <tr>
                    <td valign="top">Relat√≥rios e An√°lise</td>
                    <td valign="top"><strong>US-05</strong></td>
                    <td valign="top"><strong>Como um</strong> inspetor, <strong>eu quero</strong> que um relat√≥rio em PDF seja gerado ao final de cada inspe√ß√£o, <strong>para que</strong> eu tenha um documento oficial.</td>
                    <td valign="top">
                        <ul>
                            <li>O PDF gerado deve ter um layout id√™ntico ao do "Form. 24".</li>
                            <li>O PDF deve conter todos os dados do cabe√ßalho e dos 18 pontos.</li>
                            <li>Os campos de assinatura no PDF devem ser deixados em branco para assinatura manual.</li>
                        </ul>
                    </td>
                    <td valign="top" bgcolor="#ffebee">üî¥ <b>Essencial</b></td>
                    <td valign="top">Este √© o principal entreg√°vel de valor do MVP. O PDF deve ser perfeito e funcional.</td>
                </tr>
                <tr>
                    <td valign="top">Relat√≥rios e An√°lise</td>
                    <td valign="top"><strong>US-06</strong></td>
                    <td valign="top"><strong>Como um</strong> inspetor, <strong>eu quero</strong> acessar um dashboard com a listagem das inspe√ß√µes, <strong>para que</strong> eu possa buscar e analisar os resultados.</td>
                    <td valign="top">
                        <ul>
                            <li>O dashboard deve exibir uma lista simples de inspe√ß√µes realizadas.</li>
                            <li>Cada item na lista deve permitir baixar o PDF correspondente.</li>
                        </ul>
                    </td>
                    <td valign="top" bgcolor="#fffde7">üü° <b>Importante</b></td>
                    <td valign="top">Filtros avan√ßados s√£o adiados. O MVP precisa apenas de uma lista cronol√≥gica simples para que o usu√°rio possa encontrar e baixar o PDF que acabou de gerar.</td>
                </tr>
                <tr>
                    <td valign="top">Gest√£o de Acesso</td>
                    <td valign="top"><strong>US-04</strong></td>
                    <td valign="top"><strong>Como um</strong> usu√°rio registrado, <strong>eu quero</strong> fazer login, <strong>para que</strong> eu possa acessar o sistema de forma segura.</td>
                    <td valign="top">
                        <ul>
                            <li>A tela de login deve conter campos para e-mail e senha.</li>
                            <li>Ao submeter credenciais v√°lidas, o sistema deve retornar um token JWT.</li>
                            <li>Rotas protegidas devem ser inacess√≠veis sem token.</li>
                        </ul>
                    </td>
                    <td valign="top" bgcolor="#e8f5e9">üü¢ <b>Desej√°vel</b></td>
                    <td valign="top"><strong>Adiado para a v2.</strong> Conforme sua sugest√£o, esta funcionalidade n√£o √© necess√°ria para o MVP, o que simplifica drasticamente o desenvolvimento inicial.</td>
                </tr>
            </tbody>
        </table>
        
        <hr>

        <h3>Resumo da Estrat√©gia para o MVP</h3>
        <p>Com base na tabela acima, a equipe de desenvolvimento deve focar em criar um fluxo √∫nico e linear:</p>
        <ol>
            <li>Abrir a aplica√ß√£o e iniciar um checklist (sem login).</li>
            <li>Preencher todos os dados da inspe√ß√£o e dos 18 pontos.</li>
            <li>Finalizar a inspe√ß√£o para obter o status de Aprovado/Reprovado.</li>
            <li>Gerar um PDF fiel ao original, com espa√ßos em branco para as assinaturas.</li>
            <li>Exibir uma lista simples das inspe√ß√µes conclu√≠das para permitir o download do PDF.</li>
        </ol>
        <p>Este escopo √© enxuto, focado no valor principal e perfeitamente alcan√ß√°vel para uma primeira entrega r√°pida.</p>

        <h2 id="-nosso-acordo-de-trabalho-fluxo-de-desenvolvimento-e-contribui-o">üîÑ Nosso Acordo de Trabalho: Fluxo de Desenvolvimento e Contribui√ß√£o</h2>
        <p>Para garantir a qualidade, consist√™ncia e a sa√∫de da nossa branch principal de desenvolvimento (<code>develop</code>), todo o trabalho de codifica√ß√£o seguir√° o fluxo descrito abaixo. Este processo manual exige disciplina e comunica√ß√£o de todos.</p>
        
        <h3>1. üåø In√≠cio do Trabalho: Criando sua Branch</h3>
        <ul>
            <li><strong>Sempre comece a partir da <code>develop</code>:</strong> Antes de criar sua branch, certifique-se de que sua c√≥pia local da <code>develop</code> est√° atualizada.
                <pre><code class="lang-bash">git checkout develop
git pull origin develop</code></pre>
            </li>
            <li><strong>Crie sua <code>feature-branch</code></strong> seguindo as conven√ß√µes de nomenclatura que definimos (ex: <code>feature/US-01-iniciar-inspecao</code>).
                <pre><code class="lang-bash">git checkout -b feature/US-01-iniciar-inspecao</code></pre>
            </li>
        </ul>
        
        <h3>2. üîÑ Sincroniza√ß√£o e Teste Local (Passo Crucial)</h3>
        <p>Esta √© a etapa mais importante para proteger a branch <code>develop</code>.</p>
        <ul>
            <li><strong>Antes de considerar sua tarefa conclu√≠da</strong>, traga as √∫ltimas atualiza√ß√µes da <code>develop</code> para dentro da sua <code>feature-branch</code> para simular a integra√ß√£o.
                <pre><code class="lang-bash"># Estando na sua feature-branch, execute:
git pull origin develop</code></pre>
            </li>
            <li><strong>Resolva quaisquer conflitos de merge</strong> que possam surgir na sua m√°quina local.</li>
            <li><strong>Rode os testes unit√°rios</strong> na sua branch, que agora est√° sincronizada. Voc√™ est√° testando o seu c√≥digo j√° integrado com o trabalho recente da equipe.
                <pre><code class="lang-bash">yarn test</code></pre>
            </li>
        </ul>
        
        <h3>3. ‚úÖ Pull Request (PR) e Revis√£o de C√≥digo</h3>
        <ul>
            <li><strong>Somente se todos os testes passarem localmente</strong>, fa√ßa o <code>push</code> da sua <code>feature-branch</code> e abra uma <strong>Pull Request</strong> para a <code>develop</code>.</li>
            <li>Na descri√ß√£o do PR, mencione que os testes foram executados com sucesso ap√≥s a sincroniza√ß√£o.</li>
            <li>A PR <strong>deve ser revisada e aprovada</strong> por, no m√≠nimo, um outro membro da equipe. A pr√°tica de Code Review √© obrigat√≥ria.</li>
        </ul>

        <h3>4. ü§ù Merge e Valida√ß√£o Final</h3>
        <ul>
            <li>Ap√≥s a aprova√ß√£o, o pr√≥prio autor da PR √© respons√°vel por realizar o merge para a <code>develop</code>.</li>
            <li><strong>Regra de Ouro:</strong> Embora o risco seja baixo, se por qualquer motivo um merge quebrar a <code>develop</code> (descoberto em um teste manual subsequente), o autor do merge tem a <strong>responsabilidade total e imediata</strong> de:
                <ol>
                    <li><strong>Comunicar</strong> a equipe.</li>
                    <li><strong>Reverter</strong> a PR (<code>git revert</code>).</li>
                    <li>Corrigir o problema em sua <code>feature-branch</code> antes de tentar um novo merge.</li>
                </ol>
            </li>
        </ul>
        <p>Com este processo, garantimos que a nossa base de c√≥digo se mantenha est√°vel e que a responsabilidade pela qualidade seja compartilhada por todos.</p>
        
        <h2 id="-definition-of-ready-dor-definition-of-done-dod-">‚úÖ Definition of Ready (DoR) &amp; Definition of Done (DoD)</h2>
        <p>Este documento formaliza os <strong>pr√©-requisitos</strong> para que uma User Story seja considerada <strong>Pronta para Desenvolvimento (DoR)</strong> e define os crit√©rios para que seja <strong>Conclu√≠da (DoD)</strong>. Ele tamb√©m inclui os <strong>wireframes</strong> e as <strong>decis√µes t√©cnicas</strong> que guiam a Sprint 1.</p>
        
        <hr>

        <h3>‚úÖ <strong>Definition of Ready (DoR)</strong></h3>
        <p>Uma User Story s√≥ pode entrar no backlog de uma Sprint se atender a todos os crit√©rios abaixo:</p>
        <ul>
            <li><strong>Hist√≥ria Clara e Concisa:</strong> Escrita no formato <code>Como um [ator], eu quero [a√ß√£o], para que [valor]</code>.</li>
            <li><strong>Crit√©rios de Aceite Definidos:</strong> Itens claros para validar a entrega.</li>
            <li><strong>Wireframes Acordados:</strong> Estrutura visual definida e validada pela equipe.</li>
            <li><strong>Depend√™ncias T√©cnicas Resolvidas:</strong> Nenhuma pend√™ncia t√©cnica que bloqueie o desenvolvimento.</li>
        </ul>
        
        <hr>

        <h3>üé® Mockups Oficiais do MVP</h3>
        <p>A seguir, os mockups oficiais que servem como a base visual acordada para o desenvolvimento do MVP.</p>
        <table width="100%">
            <tbody>
                <tr>
                    <td align="center" width="50%">
                        <b>Tela 1: Inicial</b><br>
                        <sub>Objetivo: Ponto de partida claro para iniciar um novo trabalho ou consultar inspe√ß√µes.</sub>
                        <br><br>
                        <img src="img/tela1.png" alt="Tela Inicial do Aplicativo de Inspe√ß√£o" width="90%">
                    </td>
                    <td align="center" width="50%">
                        <b>Tela 2: Nova Inspe√ß√£o</b><br>
                        <sub>Objetivo: Coletar os dados prim√°rios que identificam a inspe√ß√£o.</sub>
                        <br><br>
                        <img src="img/tela2.png" alt="Tela de Cadastro de Nova Inspe√ß√£o" width="90%">
                    </td>
                </tr>
                <tr>
                    <td align="center" colspan="2">
                        <br>
                        <b>Tela 3: Checklist 18 Pontos</b><br>
                        <sub>Objetivo: Permitir a avalia√ß√£o detalhada de cada ponto com coleta de evid√™ncias.</sub>
                        <br><br>
                        <img src="img/tela3.png" alt="Tela do Checklist de 18 Pontos" width="80%">
                    </td>
                </tr>
                <tr>
                    <td align="center" width="50%">
                        <br>
                        <b>Tela 4: Finalizar</b><br>
                        <sub>Objetivo: Apresentar um resumo, coletar assinaturas e concluir o processo.</sub>
                        <br><br>
                        <img src="img/tela4.png" alt="Tela de Finaliza√ß√£o da Inspe√ß√£o com Assinaturas" width="90%">
                    </td>
                    <td align="center" width="50%">
                        <br>
                        <b>Tela 5: Visualizar Relat√≥rio</b><br>
                        <sub>Objetivo: Confirmar a conclus√£o e fornecer acesso f√°cil ao PDF.</sub>
                        <br><br>
                        <img src="img/tela5.png" alt="Tela de Confirma√ß√£o com Link para o Relat√≥rio PDF" width="90%">
                    </td>
                </tr>
            </tbody>
        </table>

        <h3>üîß <strong>Defini√ß√µes T√©cnicas para o MVP</strong></h3>
        
        <h4>Upload de Imagens</h4>
        <ul>
            <li><strong>Endpoint:</strong> <code>POST /api/inspections/:id/items/:itemId/evidence</code></li>
            <li><strong>Limite:</strong> 5MB por arquivo</li>
            <li><strong>Tipos:</strong> <code>image/jpeg</code>, <code>image/png</code></li>
            <li><strong>Armazenamento:</strong> Local (<code>/uploads</code>)</li>
            <li><strong>Padr√£o:</strong> <code>/uploads/{inspection_id}/{point_number}_{timestamp}.jpg</code></li>
        </ul>

        <h4>Layout do PDF</h4>
        <ul>
            <li>Fiel ao <code>Form. 24 - Inspecao de Unidade de Carga - Rev.- J.pdf</code></li>
            <li>Campos de assinatura em branco.</li>
        </ul>
        
        <h4>Fluxo de Rascunho</h4>
        <ul>
            <li>Inspe√ß√£o iniciada √© salva automaticamente como rascunho.</li>
            <li>Sem expira√ß√£o ou exclus√£o na vers√£o inicial.</li>
        </ul>

        <h4>Autentica√ß√£o</h4>
        <ul>
            <li><strong>N√£o haver√° login no MVP</strong>.</li>
            <li><code>Nome do Inspetor</code> como texto livre.</li>
            <li>Tabela <code>users</code> n√£o ser√° usada.</li>
        </ul>
        
        <h4>Deploy</h4>
        <ul>
            <li>Manual, ambiente √∫nico.</li>
            <li>Sem CI/CD para o MVP.</li>
        </ul>
        
        <hr>
        
        <h3>üéØ Meta da Sprint 1</h3>
        <p>Ao final da Sprint 1, um inspetor poder√° utilizar a aplica√ß√£o para registrar uma inspe√ß√£o completa, desde a inser√ß√£o dos dados iniciais at√© a avalia√ß√£o dos 18 pontos com evid√™ncias, e gerar um relat√≥rio em PDF fiel ao formul√°rio f√≠sico. A API que suporta este fluxo estar√° 100% funcional e documentada, e o frontend ter√° telas funcionais, constru√≠das com uma biblioteca de componentes, para cada etapa do processo.</p>
        
        <h3>üèÅ Definition of Done (DoD) ‚Äì Nosso Contrato de Qualidade</h3>
        <p>Uma tarefa ou User Story √© considerada "Conclu√≠da" quando atende a todos os crit√©rios abaixo.</p>
        
        <h4>1. Qualidade do C√≥digo e Processo</h4>
        <ul>
            <li>‚úÖ <strong>Implementa√ß√£o:</strong> C√≥digo implementa todos os Crit√©rios de Aceite.</li>
            <li>‚úÖ <strong>Padr√µes:</strong> C√≥digo adere aos padr√µes SOLID e DDD definidos.</li>
            <li>‚úÖ <strong>Fluxo de Contribui√ß√£o:</strong> Processo GitFlow seguido rigorosamente.</li>
            <li>‚úÖ <strong>Revis√£o de C√≥digo:</strong> PR revisada e aprovada por um colega.</li>
            <li>‚úÖ <strong>Integra√ß√£o:</strong> Merge na branch develop conclu√≠do com sucesso.</li>
        </ul>
        
        <h4>2. Testes e Valida√ß√£o</h4>
        <ul>
            <li>‚úÖ <strong>Testes Unit√°rios:</strong> L√≥gica de neg√≥cio coberta por testes unit√°rios (TDD).</li>
            <li>‚úÖ <strong>Su√≠te de Testes:</strong> Su√≠te de testes (<code>yarn test</code>) passa sem falhas.</li>
            <li>‚úÖ <strong>Valida√ß√£o Manual:</strong> Funcionalidade validada manualmente (Postman/Navegador).</li>
        </ul>

        <h4>3. Documenta√ß√£o (N√£o-Negoci√°vel)</h4>
        <ul>
            <li>‚úÖ <strong>C√≥digo Comentado:</strong> C√≥digo comentado onde a l√≥gica √© complexa.</li>
            <li>‚úÖ <strong>Diagramas:</strong> Diagramas (Classe, Sequ√™ncia, MER) atualizados conforme as mudan√ßas.</li>
            <li>‚úÖ <strong>Banco de Dados:</strong> <code>init.sql</code> atualizado com as mudan√ßas de schema.</li>
            <li>‚úÖ <strong>API:</strong> Documenta√ß√£o Swagger/OpenAPI atualizada.</li>
            <li>‚úÖ <strong>Tutorial:</strong> <code>README.md</code> atualizado se o processo de execu√ß√£o mudou.</li>
        </ul>
        
        <h2>üìã Sprint Backlog Detalhado e Ordenado</h2>
        <p>A seguir, as tarefas da Sprint 1 na sequ√™ncia recomendada para execu√ß√£o.</p>

        <table style="font-size: 14px;">
            <thead style="background-color: #f2f2f2;">
                <tr>
                    <th>Fase</th>
                    <th>Tarefa T√©cnica</th>
                    <th>√Årea</th>
                    <th>Pontos</th>
                    <th>‚úÖ Definition of Ready (DoR)</th>
                    <th>üèÅ Definition of Done (DoD)</th>
                </tr>
            </thead>
            <tbody>
                <tr style="background-color: #eef4ff;">
                    <td colspan="6" style="font-weight: bold;">Fase 1: Funda√ß√£o (Infraestrutura e Dom√≠nio)</td>
                </tr>
                <tr>
                    <td rowspan="4"><b>1</b></td>
                    <td><b>[INFRA]</b> Configurar docker-compose.yml e init.sql.</td>
                    <td>Infra</td>
                    <td><b>2</b></td>
                    <td>- DDL e DML do banco finalizados.<br>- README.md com se√ß√£o de setup.</td>
                    <td>podman-compose up -d executa sem erros; container do banco ativo; tabelas criadas e populadas.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Estruturar o projeto NestJS.</td>
                    <td>BE</td>
                    <td><b>1</b></td>
                    <td>- Arquitetura Limpa definida no README.md.</td>
                    <td>Estrutura de pastas criada. yarn start:dev sobe o servidor com "Hello World!".</td>
                </tr>
                <tr>
                    <td><b>[FE]</b> Estruturar o projeto Vue.js e instalar Vuetify.</td>
                    <td>FE</td>
                    <td><b>2</b></td>
                    <td>- Decis√£o de usar Vue.js e Vuetify tomada.</td>
                    <td>Projeto Vue criado; Vuetify instalado; yarn serve exibe um componente Vuetify.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Criar entidades TypeORM e de dom√≠nio (DDD).</td>
                    <td>BE</td>
                    <td><b>3</b></td>
                    <td>- MER e Dicion√°rio de Dados aprovados.</td>
                    <td>Entidades codificadas como classes de dom√≠nio e schemas TypeORM. C√≥digo compila sem erros.</td>
                </tr>
                
                <tr style="background-color: #eef4ff;">
                    <td colspan="6" style="font-weight: bold;">Fase 2: Backend - Constru√ß√£o do Fluxo Principal (API First)</td>
                </tr>
                <tr>
                    <td rowspan="5"><b>2</b></td>
                    <td><b>[BE]</b> Criar o endpoint POST /api/inspections.</td>
                    <td>BE</td>
                    <td><b>2</b></td>
                    <td>- Entidades criadas.<br>- DTO de entrada definido.</td>
                    <td>Endpoint no Swagger; Postman retorna 201 Created e cria registros no banco. Teste unit√°rio do Use Case criado.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Criar o endpoint PATCH /api/inspections/:id/items/:itemId.</td>
                    <td>BE</td>
                    <td><b>2</b></td>
                    <td>- Entidades criadas.<br>- DTO de entrada definido.</td>
                    <td>Endpoint no Swagger; Postman retorna 200 OK e atualiza o item no banco. Teste unit√°rio criado.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Implementar o servi√ßo de upload de arquivos (Multer).</td>
                    <td>BE</td>
                    <td><b>5</b></td>
                    <td>- Decis√µes t√©cnicas sobre upload tomadas.</td>
                    <td>Endpoint de upload no Swagger; Postman salva arquivo e cria registro no banco.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Implementar a l√≥gica de neg√≥cio para calcular o status final.</td>
                    <td>BE</td>
                    <td><b>1</b></td>
                    <td>- Regras de APROVADO/REPROVADO definidas.</td>
                    <td>L√≥gica coberta por testes unit√°rios que validam todos os cen√°rios.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Criar o endpoint POST /api/inspections/:id/finalize.</td>
                    <td>BE</td>
                    <td><b>2</b></td>
                    <td>- L√≥gica de neg√≥cio para finaliza√ß√£o conclu√≠da.</td>
                    <td>Endpoint no Swagger; Postman executa c√°lculo e atualiza status no banco.</td>
                </tr>

                <tr style="background-color: #eef4ff;">
                    <td colspan="6" style="font-weight: bold;">Fase 3: Frontend - Constru√ß√£o das Telas Funcionais</td>
                </tr>
                <tr>
                    <td rowspan="5"><b>3</b></td>
                    <td><b>[FE]</b> Desenvolver a <b>Tela 1 (Inicial)</b>.</td>
                    <td>FE</td>
                    <td><b>3</b></td>
                    <td>- Mockup da Tela 1 validado.<br>- Projeto Vue.js configurado.</td>
                    <td>Tela renderiza conforme mockup; bot√£o "Iniciar" navega para a rota da Tela 2.</td>
                </tr>
                <tr>
                    <td><b>[FE]</b> Desenvolver a <b>Tela 2 (Nova Inspe√ß√£o)</b>.</td>
                    <td>FE</td>
                    <td><b>5</b></td>
                    <td>- Mockup da Tela 2 validado.<br>- Endpoint POST /api/inspections pronto.</td>
                    <td>Tela renderiza conforme mockup; bot√£o envia dados para a API e redireciona para a Tela 3.</td>
                </tr>
                <tr>
                    <td><b>[FE]</b> Desenvolver a <b>Tela 3 (Checklist)</b>.</td>
                    <td>FE</td>
                    <td><b>8</b></td>
                    <td>- Mockup da Tela 3 validado.<br>- Endpoint para carregar dados pronto.</td>
                    <td>Tela renderiza conforme mockup, exibindo os 18 pontos da API. Accordion funciona.</td>
                </tr>
                <tr>
                    <td><b>[FE]</b> Implementar a l√≥gica de atualiza√ß√£o de status e observa√ß√µes.</td>
                    <td>FE</td>
                    <td><b>3</b></td>
                    <td>- Tela 3 desenvolvida.<br>- Endpoint PATCH pronto.</td>
                    <td>Alterar status/observa√ß√£o na Tela 3 dispara chamada √† API PATCH e a UI reflete a mudan√ßa.</td>
                </tr>
                <tr>
                    <td><b>[FE]</b> Implementar o componente de upload de imagens.</td>
                    <td>FE</td>
                    <td><b>5</b></td>
                    <td>- Tela 3 desenvolvida.<br>- Endpoint de upload pronto.</td>
                    <td>Componente de upload na Tela 3 permite selecionar arquivo, envia para a API e exibe confirma√ß√£o.</td>
                </tr>
                
                <tr style="background-color: #eef4ff;">
                    <td colspan="6" style="font-weight: bold;">Fase 4: Backend - Finaliza√ß√£o e Relat√≥rios</td>
                </tr>
                <tr>
                    <td rowspan="5"><b>4</b></td>
                    <td><b>[BE]</b> Configurar o servi√ßo de gera√ß√£o de PDF (Puppeteer).</td>
                    <td>BE</td>
                    <td><b>3</b></td>
                    <td>- Decis√£o de usar Puppeteer tomada.</td>
                    <td>PdfService existe e gera um PDF de teste a partir de uma string HTML.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Criar o template HTML/CSS fiel ao "Form. 24".</td>
                    <td>BE</td>
                    <td><b>8</b></td>
                    <td>- Mockup oficial do PDF (Form. 24) dispon√≠vel.</td>
                    <td>Arquivo HTML existe e replica visualmente a estrutura do Form. 24.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Implementar a l√≥gica para popular o template com os dados da inspe√ß√£o.</td>
                    <td>BE</td>
                    <td><b>3</b></td>
                    <td>- Template HTML/CSS criado.<br>- Estrutura de dados da inspe√ß√£o finalizada.</td>
                    <td>Fun√ß√£o recebe um objeto de inspe√ß√£o e retorna a string HTML completa com os dados preenchidos.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Criar o endpoint GET /api/inspections.</td>
                    <td>BE</td>
                    <td><b>2</b></td>
                    <td>- Entidade Inspection definida.</td>
                    <td>Endpoint no Swagger; Postman retorna 200 OK com uma lista de inspe√ß√µes do banco.</td>
                </tr>
                <tr>
                    <td><b>[BE]</b> Criar o endpoint GET /api/inspections/:id/pdf.</td>
                    <td>BE</td>
                    <td><b>2</b></td>
                    <td>- Servi√ßo de gera√ß√£o de PDF (US-05) conclu√≠do.</td>
                    <td>Endpoint no Swagger; Postman retorna um arquivo com o Content-Type: application/pdf.</td>
                </tr>
                
                <tr style="background-color: #eef4ff;">
                    <td colspan="6" style="font-weight: bold;">Fase 5: Frontend - Fechamento do Fluxo</td>
                </tr>
                <tr>
                    <td rowspan="3"><b>5</b></td>
                    <td><b>[FE]</b> Implementar a tabela de "Inspe√ß√µes Salvas" na <b>Tela 1</b>.</td>
                    <td>FE</td>
                    <td><b>3</b></td>
                    <td>- Tela 1 desenvolvida.<br>- Endpoint GET /api/inspections pronto.</td>
                    <td>Tabela na Tela 1 √© populada com os dados retornados pela API ao carregar a p√°gina.</td>
                </tr>
                <tr>
                    <td><b>[FE]</b> Desenvolver a <b>Tela 4 (Finalizar)</b>.</td>
                    <td>FE</td>
                    <td><b>3</b></td>
                    <td>- Mockup da Tela 4 validado.<br>- Endpoint /finalize pronto.</td>
                    <td>Tela renderiza conforme mockup, exibe resumo e o bot√£o "Finalizar" chama a API.</td>
                </tr>
                <tr>
                    <td><b>[FE]</b> Desenvolver a <b>Tela 5 (Visualizar Relat√≥rio)</b>.</td>
                    <td>FE</td>
                    <td><b>2</b></td>
                    <td>- Mockup da Tela 5 validado.<br>- Endpoint GET .../pdf pronto.</td>
                    <td>Tela renderiza conforme mockup; o bot√£o "Baixar PDF" inicia o download do arquivo correto.</td>
                </tr>
            </tbody>
        </table>

        <h2 id="-licen-a">üìÑ <strong>Licen√ßa</strong></h2>
        <p>Este projeto √© licenciado sob a <strong>Licen√ßa MIT</strong>. Veja o arquivo <code>LICENSE</code> para mais detalhes.</p>
    </div>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>

</body>
</html>